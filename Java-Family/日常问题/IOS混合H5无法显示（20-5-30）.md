# 问题表象

采用JSBriger方式做混合开发，在测试完成的情况升级到生产环境，升级了以后发现IOS的H5页面无法显示，Android端是正常的。并且将IOS环境切到测试环境，那么也是正常的。

# 排查过程

- 1）客户端debug，发现H5与native的交互是正常的，可以正确的获取到token

- 2）服务端检查访问日志，经多次验证确认并未收到日志

- 3）通过H5内加日志，发现请求的URL也是正常的，但是是HTTP协议

- 4）至此问题已基本确认，因为H5地址是HTTPS，在安全的网页内调用了不安全的HTTP资源

- 5）接口请求域名是由服务端返回的，服务端根据请求页面的域名返回动态域名，但是服务端获取的到的协议是HTTP

- 6）对外服务提供了HTTP与HTTPS，而HTTPS的SSL证书是配置在SLB（华为云的ELB负载均衡）上，通过SLB转发到应用服务器时采用的是普通的HTTP协议，所以服务端只能获取到HTTP。